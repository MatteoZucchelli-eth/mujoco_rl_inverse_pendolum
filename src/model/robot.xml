<?xml version="1.0" ?>
<mujoco model="magic_triangle">
  <compiler angle="radian" meshdir="assets" autolimits="true"/>
  <default>
    <default class="magic_triangle">
      <joint frictionloss="0.1" armature="0.005"/>
      <position kp="1" dampratio="1"/>
      <default class="visual">
        <geom type="mesh" contype="0" conaffinity="0" group="2"/>
      </default>
      <default class="collision">
        <geom group="3"/>
      </default>
    </default>
  </default>
  <worldbody>
    <!-- Case body (contains case_up and case_down) -->
    <body name="case" pos="0 0 0" quat="0.7071068 -0.7071068 0 0" childclass="magic_triangle">
      <freejoint name="case_freejoint"/>
      <inertial pos="0 -0.0266667 0.015" mass="0.15" fullinertia="8.55879e-05 0.000169336 0.00022573 0 0 0"/>
      <!-- Part case_up -->
      <geom type="mesh" class="visual" pos="0 -0.0266667 0.03" quat="0 0 1 0" mesh="part_1__2" material="part_1__2_material"/>
      <geom type="mesh" class="collision" pos="0 -0.0266667 0.03" quat="0 0 1 0" mesh="part_1__2" material="part_1__2_material"/>
      <!-- Part case_down -->
      <geom type="mesh" class="visual" pos="0 -0.0266667 0" quat="1 0 0 0" mesh="part_1__2" material="part_1__2_material"/>
      <geom type="mesh" class="collision" pos="0 -0.0266667 0" quat="1 0 0 0" mesh="part_1__2" material="part_1__2_material"/>
      
      <!-- Wheel body (rotates relative to case) -->
      <body name="wheel" pos="0 0.00582573 0.01" quat="1 0 0 0">
        <joint name="wheel_joint" type="hinge" axis="0 0 1" pos="0 0 0" range="-3.14159 3.14159"/>
        <inertial pos="0 0 0" mass="0.086934" fullinertia="8.55879e-05 0.000169336 0.00022573 0 0 0"/>
        <!-- Part wheel -->
        <geom type="mesh" class="visual" pos="0 0 0" quat="1 0 0 0" mesh="part_1" material="part_1_material"/>
        <geom type="mesh" class="collision" pos="0 0 0" quat="1 0 0 0" mesh="part_1" material="part_1_material"/>
        <!-- IMU at center of wheel -->
        <site name="imu_site" pos="0 0 0" size="0.001"/>
      </body>
    </body>
  </worldbody>
  <asset>
    <mesh file="part_1.stl"/>
    <mesh file="part_1__2.stl"/>
    <material name="part_1_material" rgba="0.615686 0.811765 0.929412 1"/>
    <material name="part_1__2_material" rgba="0.615686 0.811765 0.929412 1"/>
  </asset>
  <actuator>
    <position name="wheel_actuator" joint="wheel_joint" kp="2.0"/>
  </actuator>
  <sensor>
    <!-- IMU sensors (gyroscope and accelerometer) -->
    <gyro name="gyro" site="imu_site"/>
    <accelerometer name="accelerometer" site="imu_site"/>
    <framequat name="orientation" objtype="site" objname="imu_site"/>
    <!-- Encoder for wheel angular position -->
    <jointpos name="wheel_encoder" joint="wheel_joint"/>
    <jointvel name="wheel_velocity" joint="wheel_joint"/>
  </sensor>
</mujoco>
